# 볼링 게임 점수판
## 진행 방법
* 볼링 게임 점수판 요구사항을 파악한다.
* 요구사항에 대한 구현을 완료한 후 자신의 github 아이디에 해당하는 브랜치에 Pull Request(이하 PR)를 통해 코드 리뷰 요청을 한다.
* 코드 리뷰 피드백에 대한 개선 작업을 하고 다시 PUSH한다.
* 모든 피드백을 완료하면 다음 단계를 도전하고 앞의 과정을 반복한다.

## 온라인 코드 리뷰 과정
* [텍스트와 이미지로 살펴보는 온라인 코드 리뷰 과정](https://github.com/next-step/nextstep-docs/tree/master/codereview)

### step 1. 질문 삭제하기 기능 리팩터링
1. 질문 삭제하기 요구사항
   1. 질문 데이터를 완전히 삭제하는 것이 아니라 데이터의 상태를 삭제 상태(boolean type)로 변경한다.
      1. 데이터의 상태는 원시 값이니깐.. 분리하고 포장해야 하나?
   2. 로그인 사용자와 질문한 사람이 같은 경우 삭제 가능
   3. 답변이 없는 경우(메서드 추출) 삭제가 가능
   4. 질문자와 답변 글의 모든 답변자가 같은 경우 삭제가 가능(메서드 추출)
   5. 질문을 삭제할 때 답변 또한 삭제해야 하며, 답변의 삭제 또한 삭제 상태(delete)를 변경
   6. 질문자와 답변자가 다를 경우 답변을 삭제할 수 없다.
   7. 질문과 답변 삭제 이력에 대한 정보를 DeleteHistory 를 활용해 남긴다.
2. 프로그래밍 요구사항
   1. qna.service.QnaService 의 deleteQuestion() 메서드는 단위 테스트하기 어려운 코드와 단위 테스트가 가능한 코드로 섞여 있다.
   2. 단위 테스트하기 어려운 코드와 단위 테스트 가능한 코드를 분리하고
   3. 테스트 가능한 코드에 대해 단위 테스트를 구현한다.
3. Question, Answer, DeleteHistory 클래스가 맡고 있는 역할과 책임을 최대한 분리하자
4. Question 의 boolean deleted 를 분리하고 포장해서 클래스로 빼내보자.
5. Question 의 List<Answer> 를 @Embeddable 을 사용하여 일급 콜렉션을 사용해보자.
6. List<DeleteHistory> 일급 콜렉션을 사용해보자

#### step 1-1. 질문 삭제하기 기능 리팩토링 (피드백 반영)
1. Answers 에 테스트만을 위한 프로덕션 코드가 존재한다
2. 생성자로 값을 받아서 생성 후에 바로 getDeleteHistories 를 호출하고 있다
   1. getter 이외에 별다른 행위를 하고 있지 않은데 꼭 필요한 녀석일까?
3. DeleteHistories 에는 전부 getter 로 값을 꺼내와서 처리하고 있는데, 메시지를 보내서 DeleteHistory 를 전달 받도록 해보자
4. Answer 클래스에서 메시지를 보내 권한 검증 및 삭제 처리를 해보자
5. 현재 question 과 하위의 각 answer 에게 메시지를 보내서 DeleteHistory 를 받아오도록 해보자
6. 삭제 처리시에 user 검증을 Answer 가 처리하도록 해보자

### step 2. 볼링 점수판(그리기)
0. step 1 피드백 리스트
   1. AbstractEntity 에서 가지고 있는 DeleteHistory 에 대한 생성을 각 엔티티에서 처리해보자
      1. 그리고 생성하는 부분을 정적 팩토리를 메서드를 사용해보자
   2. Question 의 delete 메서드와 관련하여 변수, 인자를 조정해보자!
1. **최종 목표는 볼링 점수를 계산하는 프로그램 구현**
2. 현재 step 의 목표는 **점수 계산을 제외한 볼링 게임 점수판을 구현하는 것**
3. 각 프레임이 스트라이크면 "X", 스페어면 "9|/", 미스면 "8|1"과 같이 출력한다
   1. 스트라이크(strike): 첫 번째 투구에서 모든 핀(10개)을 쓰러트린 상태
   2. 스페어(spare): 두 번째 투구에서 모든 핀(10개)을 쓰러트린 상태
   3. 미스(miss): 프레임의 두 번째 투구에서도 모든 핀이 쓰러지지 않은 상태
   4. 거터(gutter): 핀을 하나도 쓰러트리지 못한 상태. 거터는 "-"로 표시
4. 10 프레임은 스트라이크이거나 스페어면 한 번 더 투구할 수 있다. (10 프레임은 2번 일 수도, 3번 일수도 있다.)
5. 플레이어 이름은 3 글자의 영어를 입력한다.
6. 총 10개의 프레임을 투구할 수 있으며
7. 각 프레임은 한 번 혹은 두 번 투구할 수 있다.
   1. 스트라이크면 한 번, 스트라이크가 아니면 두 번
8. 투구에 대한 값도 원시 값 포장해볼 필요가 있다.
9. 일반 프레임, 마지막 프레임을 구분해서 사용해보자.